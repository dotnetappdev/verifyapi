<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palis - UI Testing with Playwright</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #1e1e1e;
            color: #d4d4d4;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1, h2, h3 {
            color: #569cd6;
            border-bottom: 2px solid #404040;
            padding-bottom: 10px;
        }
        h1 {
            color: #4fc3f7;
            text-align: center;
            font-size: 2.5em;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background-color: #2d2d30;
            border-radius: 8px;
            border-left: 4px solid #007acc;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background-color: #252526;
            padding: 20px;
            border-radius: 6px;
            border: 1px solid #404040;
        }
        .feature-card h3 {
            color: #9cdcfe;
            margin-top: 0;
            border: none;
            padding: 0;
        }
        .code-block {
            background-color: #1e1e1e;
            border: 1px solid #404040;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
        }
        .code-block pre {
            margin: 0;
            color: #d4d4d4;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }
        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .comment { color: #6a9955; }
        .function { color: #dcdcaa; }
        .toc {
            background-color: #2d2d30;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
        .toc ul {
            list-style-type: none;
            padding-left: 20px;
        }
        .toc a {
            color: #9cdcfe;
            text-decoration: none;
            transition: color 0.3s;
        }
        .toc a:hover {
            color: #4fc3f7;
        }
        .highlight {
            background-color: #264f78;
            padding: 2px 4px;
            border-radius: 3px;
        }
        .warning {
            background-color: #3c2200;
            border-left: 4px solid #ffb732;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        .success {
            background-color: #0d3d0d;
            border-left: 4px solid #4caf50;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé≠ Palis - UI Testing with Playwright</h1>
        
        <div class="toc">
            <h2>üìã Table of Contents</h2>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#getting-started">Getting Started</a></li>
                <li><a href="#creating-tests">Creating UI Test Suites</a></li>
                <li><a href="#test-script-api">Test Script API</a></li>
                <li><a href="#jwt-cookie-testing">JWT Claims & Cookie Testing</a></li>
                <li><a href="#browser-support">Browser Support</a></li>
                <li><a href="#best-practices">Best Practices</a></li>
                <li><a href="#examples">Complete Examples</a></li>
            </ul>
        </div>

        <div id="overview" class="section">
            <h2>üåü Overview</h2>
            <p>Palis now includes powerful UI testing capabilities powered by Microsoft Playwright. This allows you to create comprehensive end-to-end tests for web applications alongside your API tests.</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üéØ Cross-Browser Testing</h3>
                    <p>Test your applications on Chromium, Firefox, and WebKit browsers with consistent results across all platforms.</p>
                </div>
                <div class="feature-card">
                    <h3>üì± Responsive Testing</h3>
                    <p>Configure different viewport sizes to test responsive designs and mobile experiences.</p>
                </div>
                <div class="feature-card">
                    <h3>üëÅÔ∏è Visual Testing</h3>
                    <p>Run tests in headless mode for CI/CD or with visible browser for debugging and development.</p>
                </div>
                <div class="feature-card">
                    <h3>üì∏ Automatic Screenshots</h3>
                    <p>Capture screenshots on test failures for quick debugging and visual verification.</p>
                </div>
                <div class="feature-card">
                    <h3>üîç Rich Assertions</h3>
                    <p>Built-in assertion framework for element existence, visibility, text content, page navigation, JWT claims, and cookie validation.</p>
                </div>
                <div class="feature-card">
                    <h3>üè∑Ô∏è Test Organization</h3>
                    <p>Organize tests with tags, descriptions, and test suites for better management and execution control.</p>
                </div>
            </div>
        </div>

        <div id="getting-started" class="section">
            <h2>üöÄ Getting Started</h2>
            <p>UI testing is integrated directly into the Test Explorer panel. You'll find a dedicated "UI Tests" section alongside your API tests.</p>
            
            <h3>Accessing UI Tests</h3>
            <ol>
                <li>Open the <span class="highlight">Test Explorer</span> panel in the sidebar</li>
                <li>Look for the <span class="highlight">UI Tests</span> section</li>
                <li>Click the <span class="highlight">+ button</span> to create your first UI test suite</li>
            </ol>

            <div class="success">
                <strong>Quick Start:</strong> The application comes with a sample UI test suite to help you get started. Check the "Sample UI Tests" suite to see example test scripts.
            </div>
        </div>

        <div id="creating-tests" class="section">
            <h2>‚ú® Creating UI Test Suites</h2>
            
            <h3>Test Suite Structure</h3>
            <p>Each UI test suite contains multiple test cases. Each test case can be configured independently:</p>
            
            <ul>
                <li><strong>Test Name & Description:</strong> Descriptive information about the test</li>
                <li><strong>Browser Selection:</strong> Choose from Chromium, Firefox, or WebKit</li>
                <li><strong>Execution Mode:</strong> Headless (background) or headed (visible browser)</li>
                <li><strong>Viewport Size:</strong> Set custom screen resolution</li>
                <li><strong>Timeout:</strong> Maximum execution time</li>
                <li><strong>Tags:</strong> Organize tests with labels like "smoke", "regression", "ui"</li>
            </ul>

            <h3>Creating a New Test Suite</h3>
            <div class="code-block">
                <pre>
<span class="comment">// 1. Click the + button in the UI Tests section
// 2. Enter a descriptive suite name
// 3. Configure your first test case
// 4. Write your test script using Playwright API
// 5. Save and run your tests</span>
                </pre>
            </div>
        </div>

        <div id="test-script-api" class="section">
            <h2>üß™ Test Script API</h2>
            
            <h3>Available Objects</h3>
            <p>Every test script has access to these powerful objects:</p>
            
            <div class="code-block">
                <pre>
<span class="comment">// Playwright Page object - interact with the browser page</span>
<span class="keyword">await</span> <span class="function">page.goto</span>(<span class="string">'https://example.com'</span>);
<span class="keyword">await</span> <span class="function">page.click</span>(<span class="string">'button#submit'</span>);

<span class="comment">// Browser instance - for advanced browser control</span>
<span class="keyword">const</span> newPage = <span class="keyword">await</span> browser.<span class="function">newPage</span>();

<span class="comment">// Browser context - manage cookies, sessions, etc.</span>
<span class="keyword">await</span> context.<span class="function">clearCookies</span>();

<span class="comment">// UI assertion framework - validate page state</span>
assert.<span class="function">assertElementExists</span>(<span class="string">'h1'</span>, <span class="string">'Page should have a heading'</span>);
assert.<span class="function">assertElementText</span>(<span class="string">'h1'</span>, <span class="string">'Welcome'</span>, <span class="string">'Heading should say Welcome'</span>);

<span class="comment">// JWT and Cookie utilities - authentication testing</span>
<span class="keyword">const</span> token = <span class="keyword">await</span> utils.<span class="function">extractJWT</span>(page, <span class="string">'authToken'</span>);
<span class="keyword">const</span> claims = utils.<span class="function">decodeJWT</span>(token);

<span class="comment">// Console logging for debugging</span>
console.<span class="function">log</span>(<span class="string">'Test step completed'</span>);
                </pre>
            </div>

            <h3>UI Assertion Methods</h3>
            
            <div class="code-block">
                <pre>
<span class="comment">// Element assertions</span>
assert.<span class="function">assertElementExists</span>(<span class="string">'selector'</span>, <span class="string">'message'</span>);
assert.<span class="function">assertElementVisible</span>(<span class="string">'selector'</span>, <span class="string">'message'</span>);
assert.<span class="function">assertElementText</span>(<span class="string">'selector'</span>, <span class="string">'expected text'</span>, <span class="string">'message'</span>);

<span class="comment">// Page assertions</span>
assert.<span class="function">assertPageTitle</span>(<span class="string">'expected title'</span>, <span class="string">'message'</span>);
assert.<span class="function">assertUrlContains</span>(<span class="string">'/expected-path'</span>, <span class="string">'message'</span>);
                </pre>
            </div>
        </div>

        <div id="jwt-cookie-testing" class="section">
            <h2>üîê JWT Claims & Cookie Testing</h2>
            
            <h3>Authentication Testing</h3>
            <p>Palis provides powerful utilities for testing authentication flows, JWT claims, and cookie management.</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üé´ JWT Token Validation</h3>
                    <p>Decode JWT tokens, validate claims, and check expiration status automatically.</p>
                </div>
                <div class="feature-card">
                    <h3>üç™ Cookie Management</h3>
                    <p>Test cookie properties, values, security flags, and session management.</p>
                </div>
            </div>

            <h3>JWT Claims Testing</h3>
            <div class="code-block">
                <pre>
<span class="comment">// Extract JWT token from localStorage or cookies</span>
<span class="keyword">const</span> token = <span class="keyword">await</span> utils.<span class="function">extractJWT</span>(page, <span class="string">'authToken'</span>);

<span class="keyword">if</span> (token) {
  <span class="comment">// Decode JWT claims</span>
  <span class="keyword">const</span> claims = utils.<span class="function">decodeJWT</span>(token);
  console.<span class="function">log</span>(<span class="string">'JWT Claims:'</span>, claims);
  
  <span class="comment">// Assert JWT is valid (not expired)</span>
  assert.<span class="function">assertJWTValid</span>(token, <span class="string">'JWT token should be valid'</span>);
  
  <span class="comment">// Assert specific claims</span>
  assert.<span class="function">assertJWTClaim</span>(token, <span class="string">'sub'</span>, <span class="string">'user123'</span>, <span class="string">'Subject should be user123'</span>);
  assert.<span class="function">assertJWTClaim</span>(token, <span class="string">'role'</span>, <span class="string">'admin'</span>, <span class="string">'User should have admin role'</span>);
  assert.<span class="function">assertJWTClaim</span>(token, <span class="string">'iss'</span>, <span class="string">'your-app.com'</span>, <span class="string">'Issuer should be your app'</span>);
}
                </pre>
            </div>

            <h3>Cookie Testing</h3>
            <div class="code-block">
                <pre>
<span class="comment">// Test cookie existence and properties</span>
assert.<span class="function">assertCookieExists</span>(<span class="string">'sessionId'</span>, <span class="string">'Session cookie should exist'</span>);
assert.<span class="function">assertCookieSecure</span>(<span class="string">'sessionId'</span>, <span class="string">'Session cookie should be secure'</span>);
assert.<span class="function">assertCookieHttpOnly</span>(<span class="string">'sessionId'</span>, <span class="string">'Session cookie should be httpOnly'</span>);

<span class="comment">// Test specific cookie values</span>
assert.<span class="function">assertCookieValue</span>(<span class="string">'theme'</span>, <span class="string">'dark'</span>, <span class="string">'Theme should be set to dark'</span>);

<span class="comment">// Get all cookies for inspection</span>
<span class="keyword">const</span> cookies = <span class="keyword">await</span> utils.<span class="function">getCookies</span>(page);
console.<span class="function">log</span>(<span class="string">'All cookies:'</span>, cookies);

<span class="comment">// Get specific cookie details</span>
<span class="keyword">const</span> sessionCookie = <span class="keyword">await</span> utils.<span class="function">getCookie</span>(page, <span class="string">'sessionId'</span>);
<span class="keyword">if</span> (sessionCookie) {
  console.<span class="function">log</span>(<span class="string">'Session cookie details:'</span>, sessionCookie);
}
                </pre>
            </div>

            <h3>Complete Authentication Test</h3>
            <div class="code-block">
                <pre>
<span class="comment">// Navigate to login page</span>
<span class="keyword">await</span> page.<span class="function">goto</span>(<span class="string">'https://your-app.com/login'</span>);

<span class="comment">// Perform login</span>
<span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="username"]'</span>, <span class="string">'testuser'</span>);
<span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="password"]'</span>, <span class="string">'testpass'</span>);
<span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'button[type="submit"]'</span>);

<span class="comment">// Wait for login to complete</span>
<span class="keyword">await</span> page.<span class="function">waitForURL</span>(<span class="string">'**/dashboard'</span>);

<span class="comment">// Extract and validate JWT</span>
<span class="keyword">const</span> token = <span class="keyword">await</span> utils.<span class="function">extractJWT</span>(page, <span class="string">'authToken'</span>);
<span class="keyword">if</span> (token) {
  assert.<span class="function">assertJWTValid</span>(token, <span class="string">'JWT should be valid after login'</span>);
  assert.<span class="function">assertJWTClaim</span>(token, <span class="string">'sub'</span>, <span class="string">'testuser'</span>, <span class="string">'Subject should match username'</span>);
}

<span class="comment">// Validate session cookies</span>
assert.<span class="function">assertCookieExists</span>(<span class="string">'sessionId'</span>, <span class="string">'Session cookie should exist after login'</span>);
assert.<span class="function">assertCookieSecure</span>(<span class="string">'sessionId'</span>, <span class="string">'Session cookie should be secure'</span>);

<span class="comment">// Test logout</span>
<span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'.logout-button'</span>);
<span class="keyword">await</span> page.<span class="function">waitForURL</span>(<span class="string">'**/login'</span>);

<span class="comment">// Verify session cleanup</span>
assert.<span class="function">assertUrlContains</span>(<span class="string">'/login'</span>, <span class="string">'Should redirect to login after logout'</span>);
                </pre>
            </div>

            <div class="success">
                <strong>Pro Tip:</strong> Use the "Authentication" template in the UI Test Dialog to quickly generate authentication test scripts with JWT claims and cookie validation.
            </div>
        </div>

        <div id="browser-support" class="section">
            <h2>üåê Browser Support</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üöÄ Chromium</h3>
                    <p>Google Chrome's open-source base. Fast, reliable, and widely supported. Best for general testing.</p>
                </div>
                <div class="feature-card">
                    <h3>ü¶ä Firefox</h3>
                    <p>Mozilla's browser engine. Great for testing Gecko-specific behaviors and privacy features.</p>
                </div>
                <div class="feature-card">
                    <h3>üß≠ WebKit</h3>
                    <p>Safari's browser engine. Essential for testing on macOS and iOS Safari compatibility.</p>
                </div>
            </div>

            <h3>Execution Modes</h3>
            <ul>
                <li><strong>Headless Mode:</strong> Runs tests in the background without visible browser window. Faster and suitable for CI/CD.</li>
                <li><strong>Headed Mode:</strong> Shows the browser window during test execution. Perfect for debugging and development.</li>
            </ul>
        </div>

        <div id="best-practices" class="section">
            <h2>üí° Best Practices</h2>
            
            <h3>Test Structure</h3>
            <ul>
                <li><strong>Start with page navigation:</strong> Always begin with <code>page.goto()</code></li>
                <li><strong>Wait for page load:</strong> Use <code>page.waitForLoadState('networkidle')</code></li>
                <li><strong>Use descriptive selectors:</strong> Prefer data attributes over fragile CSS selectors</li>
                <li><strong>Add meaningful assertions:</strong> Include clear error messages</li>
            </ul>

            <h3>Performance Tips</h3>
            <ul>
                <li>Keep test scripts focused on specific functionality</li>
                <li>Use appropriate timeouts based on expected page load times</li>
                <li>Run in headless mode for faster execution</li>
                <li>Use tags to organize and run specific test subsets</li>
            </ul>

            <div class="warning">
                <strong>Important:</strong> UI tests require network access to load web pages. Ensure your firewall and network settings allow browser traffic.
            </div>
        </div>

        <div id="examples" class="section">
            <h2>üìö Complete Examples</h2>
            
            <h3>Basic Page Load Test</h3>
            <div class="code-block">
                <pre>
<span class="comment">// Navigate to homepage</span>
<span class="keyword">await</span> page.<span class="function">goto</span>(<span class="string">'https://example.com'</span>);
<span class="keyword">await</span> page.<span class="function">waitForLoadState</span>(<span class="string">'networkidle'</span>);

<span class="comment">// Verify page loaded correctly</span>
assert.<span class="function">assertPageTitle</span>(<span class="string">'Example Domain'</span>, <span class="string">'Page should have correct title'</span>);
assert.<span class="function">assertElementExists</span>(<span class="string">'h1'</span>, <span class="string">'Page should have main heading'</span>);
assert.<span class="function">assertElementVisible</span>(<span class="string">'h1'</span>, <span class="string">'Heading should be visible'</span>);

console.<span class="function">log</span>(<span class="string">'Homepage test completed successfully'</span>);
                </pre>
            </div>

            <h3>Form Interaction Test</h3>
            <div class="code-block">
                <pre>
<span class="comment">// Navigate to form page</span>
<span class="keyword">await</span> page.<span class="function">goto</span>(<span class="string">'https://example.com/contact'</span>);

<span class="comment">// Fill out form fields</span>
<span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="name"]'</span>, <span class="string">'John Doe'</span>);
<span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'input[name="email"]'</span>, <span class="string">'john@example.com'</span>);
<span class="keyword">await</span> page.<span class="function">fill</span>(<span class="string">'textarea[name="message"]'</span>, <span class="string">'Hello, this is a test message!'</span>);

<span class="comment">// Select dropdown option</span>
<span class="keyword">await</span> page.<span class="function">selectOption</span>(<span class="string">'select[name="subject"]'</span>, <span class="string">'general'</span>);

<span class="comment">// Submit form</span>
<span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'button[type="submit"]'</span>);

<span class="comment">// Wait for success message</span>
<span class="keyword">await</span> page.<span class="function">waitForSelector</span>(<span class="string">'.success-message'</span>);

<span class="comment">// Verify success</span>
assert.<span class="function">assertElementExists</span>(<span class="string">'.success-message'</span>, <span class="string">'Success message should appear'</span>);
assert.<span class="function">assertElementText</span>(<span class="string">'.success-message'</span>, <span class="string">'Thank you for your message!'</span>, <span class="string">'Success message should have correct text'</span>);
                </pre>
            </div>

            <h3>Responsive Design Test</h3>
            <div class="code-block">
                <pre>
<span class="comment">// Test desktop view</span>
<span class="keyword">await</span> page.<span class="function">setViewportSize</span>({ width: <span class="string">1920</span>, height: <span class="string">1080</span> });
<span class="keyword">await</span> page.<span class="function">goto</span>(<span class="string">'https://example.com'</span>);
assert.<span class="function">assertElementVisible</span>(<span class="string">'.desktop-menu'</span>, <span class="string">'Desktop menu should be visible'</span>);

<span class="comment">// Test tablet view</span>
<span class="keyword">await</span> page.<span class="function">setViewportSize</span>({ width: <span class="string">768</span>, height: <span class="string">1024</span> });
<span class="keyword">await</span> page.<span class="function">reload</span>();
assert.<span class="function">assertElementVisible</span>(<span class="string">'.tablet-menu'</span>, <span class="string">'Tablet menu should be visible'</span>);

<span class="comment">// Test mobile view</span>
<span class="keyword">await</span> page.<span class="function">setViewportSize</span>({ width: <span class="string">375</span>, height: <span class="string">667</span> });
<span class="keyword">await</span> page.<span class="function">reload</span>();
assert.<span class="function">assertElementVisible</span>(<span class="string">'.mobile-menu-toggle'</span>, <span class="string">'Mobile menu toggle should be visible'</span>);

<span class="comment">// Test mobile menu interaction</span>
<span class="keyword">await</span> page.<span class="function">click</span>(<span class="string">'.mobile-menu-toggle'</span>);
assert.<span class="function">assertElementVisible</span>(<span class="string">'.mobile-menu'</span>, <span class="string">'Mobile menu should open'</span>);
                </pre>
            </div>
        </div>

        <footer style="text-align: center; margin-top: 50px; padding: 20px; border-top: 1px solid #404040;">
            <p>Palis - Professional API & UI Testing Tool</p>
            <p style="color: #808080;">Happy Testing! üöÄ</p>
        </footer>
    </div>
</body>
</html>
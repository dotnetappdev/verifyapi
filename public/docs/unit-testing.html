<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Palis - Unit Testing Documentation</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background-color: #1e1e1e;
            color: #d4d4d4;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        h1, h2, h3 {
            color: #569cd6;
            border-bottom: 2px solid #404040;
            padding-bottom: 10px;
        }
        h1 {
            color: #4fc3f7;
            text-align: center;
            font-size: 2.5em;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            background-color: #252526;
            border-radius: 8px;
            border-left: 4px solid #007acc;
        }
        .code-block {
            background-color: #1e1e1e;
            border: 1px solid #404040;
            border-radius: 4px;
            padding: 15px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
        }
        .highlight {
            background-color: #264f78;
            padding: 15px;
            border-radius: 4px;
            margin: 15px 0;
            border-left: 4px solid #007acc;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .feature-card {
            background-color: #2d2d30;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #404040;
        }
        .feature-card h3 {
            margin-top: 0;
            color: #4fc3f7;
            border-bottom: 1px solid #404040;
        }
        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 5px 10px;
            border-radius: 4px;
            font-weight: bold;
            font-size: 0.9em;
        }
        .status-pass { background-color: #4caf50; color: white; }
        .status-fail { background-color: #f44336; color: white; }
        .status-skip { background-color: #ff9800; color: white; }
        .status-error { background-color: #9c27b0; color: white; }
        .toc {
            background-color: #2d2d30;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #404040;
            margin-bottom: 30px;
        }
        .toc ul {
            list-style-type: none;
            padding-left: 20px;
        }
        .toc a {
            color: #4fc3f7;
            text-decoration: none;
        }
        .toc a:hover {
            text-decoration: underline;
        }
        .assertion-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background-color: #2d2d30;
        }
        .assertion-table th,
        .assertion-table td {
            border: 1px solid #404040;
            padding: 12px;
            text-align: left;
        }
        .assertion-table th {
            background-color: #1e1e1e;
            color: #4fc3f7;
            font-weight: bold;
        }
        .assertion-table tr:nth-child(even) {
            background-color: #252526;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Palis - Unit Testing Documentation</h1>
        
        <div class="toc">
            <h2>üìã Table of Contents</h2>
            <ul>
                <li><a href="#overview">Overview</a></li>
                <li><a href="#getting-started">Getting Started</a></li>
                <li><a href="#test-discovery">Test Discovery</a></li>
                <li><a href="#test-types">Test Types</a></li>
                <li><a href="#test-assertions">Test Assertions</a></li>
                <li><a href="#writing-tests">Writing Test Scripts</a></li>
                <li><a href="#test-execution">Test Execution</a></li>
                <li><a href="#best-practices">Best Practices</a></li>
                <li><a href="#examples">Complete Examples</a></li>
            </ul>
        </div>

        <div id="overview" class="section">
            <h2>üåü Overview</h2>
            <p>Palis features a powerful Visual Studio-style test runner that allows you to write comprehensive unit tests for your API requests. The testing framework provides:</p>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üéØ Visual Studio-Style Assertions</h3>
                    <p>Familiar assertion methods similar to MSTest, NUnit, and Jest frameworks with detailed error reporting.</p>
                </div>
                <div class="feature-card">
                    <h3>‚ö° Real-time Test Execution</h3>
                    <p>Run individual tests or entire test suites with immediate feedback and performance metrics.</p>
                </div>
                <div class="feature-card">
                    <h3>üìä Comprehensive Reporting</h3>
                    <p>Detailed test results with pass/fail indicators, execution times, and assertion details.</p>
                </div>
                <div class="feature-card">
                    <h3>üîç Advanced JSON Testing</h3>
                    <p>Deep JSON path assertions, schema validation, and complex object comparison.</p>
                </div>
            </div>
        </div>

        <div id="getting-started" class="section">
            <h2>üöÄ Getting Started</h2>
            
            <h3>1. Accessing the Test Explorer</h3>
            <p>To view and manage your tests:</p>
            <ul>
                <li>Click the <strong>"Tests"</strong> tab in the left sidebar</li>
                <li>The Test Explorer shows all available test types:
                    <ul>
                        <li><strong>Request Tests</strong> - API endpoint tests</li>
                        <li><strong>UI Tests</strong> - Browser automation tests</li>
                        <li><strong>Unit Tests</strong> - Standalone test suites</li>
                    </ul>
                </li>
            </ul>

            <h3>2. Accessing the Test Editor</h3>
            <p>To create tests for your API requests:</p>
            <ul>
                <li>Select an API request from the sidebar</li>
                <li>Click the <strong>"Tests"</strong> tab in the request panel</li>
                <li>Click <strong>"+ Add Test"</strong> to create a new test case</li>
            </ul>

            <h3>3. Test Script Structure</h3>
            <p>Test scripts are written in JavaScript and have access to the following objects:</p>
            
            <div class="code-block">
// Available objects in test context:
response = {
    status: 200,           // HTTP status code
    statusText: "OK",      // Status message
    data: {...},          // Response body (parsed JSON)
    headers: {...},       // Response headers
    responseTime: 150     // Response time in milliseconds
}

request = {
    method: "GET",        // HTTP method
    url: "https://...",   // Request URL
    headers: {...},       // Request headers
    data: {...}          // Request body
}

assert = {
    // Assertion methods (detailed below)
}
            </div>
        </div>

        <div id="test-discovery" class="section">
            <h2>üîç Test Discovery</h2>
            <p>Before running tests, they must be <strong>discovered</strong>. Test Discovery is the process of scanning your test suites and identifying all available tests.</p>
            
            <h3>Why Test Discovery?</h3>
            <div class="highlight">
                <p><strong>Test Discovery ensures:</strong></p>
                <ul>
                    <li>Tests are validated and ready to run</li>
                    <li>Test metadata is extracted (name, description, tags)</li>
                    <li>Tests are organized in a hierarchical structure</li>
                    <li>You can see all available tests before execution</li>
                </ul>
            </div>

            <h3>How to Discover Tests</h3>
            <div class="code-block">
1. Open the Test Explorer (Tests tab in sidebar)
2. Click "Discover All Tests" button
3. Wait for discovery to complete
4. Tests will show with discovery status indicators
            </div>

            <h3>Discovery Status Indicators</h3>
            <table class="assertion-table">
                <thead>
                    <tr>
                        <th>Indicator</th>
                        <th>Status</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>üîç</td>
                        <td>Not Discovered</td>
                        <td>Test has not been scanned yet</td>
                    </tr>
                    <tr>
                        <td>‚úÖ</td>
                        <td>Discovered</td>
                        <td>Test is ready to run</td>
                    </tr>
                    <tr>
                        <td>‚ñ∂Ô∏è</td>
                        <td>Running</td>
                        <td>Test is currently executing</td>
                    </tr>
                    <tr>
                        <td>‚úîÔ∏è</td>
                        <td>Passed</td>
                        <td>Test completed successfully</td>
                    </tr>
                    <tr>
                        <td>‚ùå</td>
                        <td>Failed</td>
                        <td>Test failed with errors</td>
                    </tr>
                    <tr>
                        <td>‚ö†Ô∏è</td>
                        <td>Skipped</td>
                        <td>Test was skipped during execution</td>
                    </tr>
                </tbody>
            </table>

            <h3>Automatic Re-Discovery</h3>
            <p>Tests are automatically re-discovered when:</p>
            <ul>
                <li>You create a new test suite</li>
                <li>You modify an existing test</li>
                <li>You add or remove test cases</li>
            </ul>
        </div>

        <div id="test-types" class="section">
            <h2>üìã Test Types</h2>
            <p>Palis supports three types of tests, each designed for different testing scenarios:</p>

            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üåê Request Tests (API Tests)</h3>
                    <p>Tests linked to specific HTTP requests. Validate API responses, status codes, headers, and data.</p>
                    <ul>
                        <li>Attached to individual requests</li>
                        <li>Run automatically with the request</li>
                        <li>Great for endpoint validation</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üñ•Ô∏è UI Tests</h3>
                    <p>Browser-based tests using Playwright for UI automation. Test web applications end-to-end.</p>
                    <ul>
                        <li>Independent test suites</li>
                        <li>Support multiple browsers</li>
                        <li>Full page interaction capabilities</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üß™ Unit Tests</h3>
                    <p>Standalone test suites for testing individual functions and components independently.</p>
                    <ul>
                        <li>Not tied to requests</li>
                        <li>Reusable across projects</li>
                        <li>Great for utility testing</li>
                    </ul>
                </div>
            </div>

            <h3>Choosing the Right Test Type</h3>
            <div class="highlight">
                <p><strong>Use Request Tests when:</strong></p>
                <ul>
                    <li>Testing a specific API endpoint</li>
                    <li>Validating API response data</li>
                    <li>Checking authentication flows</li>
                </ul>

                <p><strong>Use UI Tests when:</strong></p>
                <ul>
                    <li>Testing web application workflows</li>
                    <li>Validating UI elements and interactions</li>
                    <li>Testing form submissions and navigation</li>
                </ul>

                <p><strong>Use Unit Tests when:</strong></p>
                <ul>
                    <li>Testing utility functions</li>
                    <li>Validating data transformations</li>
                    <li>Testing business logic</li>
                </ul>
            </div>
        </div>

        <div id="test-assertions" class="section">
            <h2>‚úÖ Test Assertions</h2>
            <p>The assertion framework provides various methods to validate API responses:</p>

            <table class="assertion-table">
                <thead>
                    <tr>
                        <th>Method</th>
                        <th>Description</th>
                        <th>Example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>assertEquals</code></td>
                        <td>Checks if two values are equal</td>
                        <td><code>assert.assertEquals(200, response.status)</code></td>
                    </tr>
                    <tr>
                        <td><code>assertNotEquals</code></td>
                        <td>Checks if two values are not equal</td>
                        <td><code>assert.assertNotEquals(null, response.data)</code></td>
                    </tr>
                    <tr>
                        <td><code>assertContains</code></td>
                        <td>Checks if container contains item</td>
                        <td><code>assert.assertContains(response.data.message, "success")</code></td>
                    </tr>
                    <tr>
                        <td><code>assertStatusCode</code></td>
                        <td>Validates HTTP status code</td>
                        <td><code>assert.assertStatusCode(200, response.status)</code></td>
                    </tr>
                    <tr>
                        <td><code>assertResponseTime</code></td>
                        <td>Validates response time is within limit</td>
                        <td><code>assert.assertResponseTime(1000, response.responseTime)</code></td>
                    </tr>
                    <tr>
                        <td><code>assertJsonPath</code></td>
                        <td>Validates value at specific JSON path</td>
                        <td><code>assert.assertJsonPath(response.data, "user.id", 123)</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div id="writing-tests" class="section">
            <h2>‚úçÔ∏è Writing Test Scripts</h2>
            
            <h3>Basic Test Structure</h3>
            <div class="code-block">
// Test HTTP status
assert.assertStatusCode(200, response.status, 'Should return OK status');

// Test response time performance
assert.assertResponseTime(2000, response.responseTime, 'Should respond quickly');

// Test JSON response structure
assert.assertJsonPath(response.data, 'success', true, 'Response should indicate success');
assert.assertJsonPath(response.data, 'data.id', 123, 'Should return correct ID');

// Custom validation logic
if (response.data.users && Array.isArray(response.data.users)) {
    assert.assertEquals(true, response.data.users.length > 0, 'Should return user list');
}

console.log('‚úÖ All tests passed successfully!');
            </div>

            <h3>Advanced JSON Path Testing</h3>
            <div class="code-block">
// Test nested object properties
assert.assertJsonPath(response.data, 'user.profile.role', 'admin');

// Test array elements
assert.assertJsonPath(response.data, 'users[0].name', 'John Doe');

// Test array length
assert.assertJsonPath(response.data, 'users.length', 3);

// Complex object validation
const expectedUser = {
    id: 1,
    name: "John Doe",
    email: "john@example.com"
};
assert.assertContains(response.data.user, expectedUser);
            </div>
        </div>

        <div id="test-execution" class="section">
            <h2>‚ñ∂Ô∏è Test Execution</h2>
            
            <h3>Running Tests</h3>
            <div class="highlight">
                <strong>Individual Test:</strong> Click the ‚ñ∂Ô∏è button next to a specific test case<br>
                <strong>All Tests:</strong> Click the ‚ö° button in the Test Explorer<br>
                <strong>Request Tests:</strong> Tests run automatically after sending API requests
            </div>

            <h3>Test States</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <div class="status-indicator status-pass">‚úì PASS</div>
                    <p>All assertions passed successfully</p>
                </div>
                <div class="feature-card">
                    <div class="status-indicator status-fail">‚úó FAIL</div>
                    <p>One or more assertions failed</p>
                </div>
                <div class="feature-card">
                    <div class="status-indicator status-skip">‚óã SKIP</div>
                    <p>Test was disabled or skipped</p>
                </div>
                <div class="feature-card">
                    <div class="status-indicator status-error">‚ö† ERROR</div>
                    <p>Test script execution error</p>
                </div>
            </div>
        </div>

        <div id="best-practices" class="section">
            <h2>üèÜ Best Practices</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>üéØ Test Organization</h3>
                    <ul>
                        <li>Group related tests into suites</li>
                        <li>Use descriptive test names</li>
                        <li>Keep tests focused and atomic</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üìù Assertion Messages</h3>
                    <ul>
                        <li>Always provide descriptive messages</li>
                        <li>Include expected vs actual values</li>
                        <li>Use consistent message format</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>‚ö° Performance Testing</h3>
                    <ul>
                        <li>Always test response times</li>
                        <li>Set realistic time limits</li>
                        <li>Monitor performance trends</li>
                    </ul>
                </div>
                <div class="feature-card">
                    <h3>üîç Error Handling</h3>
                    <ul>
                        <li>Test both success and error cases</li>
                        <li>Validate error message formats</li>
                        <li>Check appropriate status codes</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="examples" class="section">
            <h2>üìö Complete Examples</h2>
            
            <h3>Example 1: REST API User Authentication</h3>
            <div class="code-block">
// Test user login endpoint
assert.assertStatusCode(200, response.status, 'Login should succeed');
assert.assertResponseTime(2000, response.responseTime, 'Login should be fast');

// Validate response structure
assert.assertJsonPath(response.data, 'success', true, 'Login should be successful');
assert.assertJsonPath(response.data, 'token', expect.any(String), 'Should return auth token');
assert.assertJsonPath(response.data, 'user.id', expect.any(Number), 'Should return user ID');

// Validate token format (JWT)
const token = response.data.token;
assert.assertEquals(true, token.split('.').length === 3, 'Token should be valid JWT format');

console.log('‚úÖ User authentication test completed successfully');
            </div>

            <h3>Example 2: Data Validation Test</h3>
            <div class="code-block">
// Test GET /api/users endpoint
assert.assertStatusCode(200, response.status, 'Should return users list');
assert.assertResponseTime(1500, response.responseTime, 'Should respond quickly');

// Validate response structure
assert.assertJsonPath(response.data, 'success', true, 'Response should indicate success');
assert.assertJsonPath(response.data, 'data', expect.any(Array), 'Should return array of users');

// Test array contents
const users = response.data.data;
assert.assertEquals(true, users.length > 0, 'Should return at least one user');

// Validate first user structure
const firstUser = users[0];
assert.assertContains(firstUser, {
    id: expect.any(Number),
    name: expect.any(String),
    email: expect.any(String)
}, 'User should have required fields');

console.log(`‚úÖ Validated ${users.length} users successfully`);
            </div>
        </div>

        <footer style="text-align: center; margin-top: 50px; padding: 20px; border-top: 1px solid #404040;">
            <p>Palis - Professional API Testing Tool</p>
            <p style="color: #808080;">Happy Testing! üöÄ</p>
        </footer>
    </div>
</body>
</html>